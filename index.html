<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>QoS</title>
  </head>
  <body>
    <header>
      <span>1 payment link</span>
      <button onclick="popover()" class="element">
        <img src="./assets/plus.svg" class="icon" alt="" />
        Create payment link
      </button>
    </header>
    <table>
      <thead>
        <tr>
          <th>Page Name</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Created_on</th>
          <th>Links</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>QoS integrated Center</td>
          <td>Single charge</td>
          <td>NGN</td>
          <td>8 months ago</td>
          <td class="link-td" style="position: relative">
            <button onclick="show(event)" class="tab">
              <img src="./assets/view.svg" class="icon" alt="Image" />
            </button>
            <div onclick="hide(event)" class="link-div" hidden>
              <div>
                <a href="/"
                  ><input
                    hidden
                    type="text"
                    name="link"
                    value="https://helloWorld.com"
                  />https://helloWorldddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd.com</a
                >
                <button onclick="copy(event)" class="bCopy">Copy</button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <section onclick="hide(event)" hidden class="wrapper">
      <form action="">
        <div>
          <label for="price">Unit Price:</label>
          <input type="text" name="price" id="price" />
        </div>
        <div>
          <label for="produt">Product Name</label>
          <input type="text" name="prooduct" id="product" />
        </div>
        <div>
          <label for="quantity">Quantity:</label>
          <input type="number" name="quantity" id="quantity" />
        </div>
        <button>Create Link</button>
      </form>
    </section>
    <script src="index.js"></script>
    <script>
      let previous;
      function copy(event) {
        event.stopPropagation();
        let textCopied = event.target.previousElementSibling.firstElementChild;
        textCopied.select();
        textCopied.setSelectionRange(0, 99999);
        document.execCommand("copy");
        event.target.classList.add("copied");
        event.target.innerHTML = "Done";
        previous = event.target;
      }
      function show(event) {
        event.stopPropagation();
        let baseElement =
          event.target.nodeName === "IMG"
            ? event.target.parentElement
            : event.target;
        baseElement.nextElementSibling.hidden =
          !baseElement.nextElementSibling.hidden;
      }
      function hide(event) {
        event.stopPropagation();
        event.target.classList.contains("link-div") &&
          (event.target.hidden = !event.target.hidden);
        event.target.classList.contains("wrapper") &&
          (event.target.style = "display:none");
        previous.classList.remove("copied");
        previous.innerHTML = "copy";
      }
      function popover() {
        document.querySelector(".wrapper").style = "display:grid";
      }
    </script>
  </body>
</html>
